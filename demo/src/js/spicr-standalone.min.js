// Spicr v1.0.7-alpha1 | thednp Â© 2021 | MIT-License
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).Spicr=n()}(this,(function(){"use strict";var t=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),n="ontouchstart"in window||navigator.msMaxTouchPoints||!1,e="onmouseleave"in document?["mouseenter","mouseleave"]:["mouseover","mouseout"],a=!!function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){return t=!0}});document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t,n)}),n)}catch(t){throw Error("Passive events are not supported")}return t}()&&{passive:!0};function r(t){return"true"===t||"false"!==t&&(Number.isNaN(t)?""===t||"null"===t?null:t:+t)}var i={};function o(t,n,e){var a=n.trim().split(/[,|;]/),r={};return a.forEach((function(n){var a=n.split(/[:|=]/),i=a[0],o=a[1],s=/y/i.test(i)||/v/i.test(o)?"offsetHeight":"offsetWidth";e&&/%/.test(o)&&!/z/i.test(i)?r[i]=o:r[i]=/%/.test(o)?parseFloat(o)*t[s]/100:parseFloat(o)})),r}var s={delay:250,duration:500,easing:"easingCubicOut",interval:5e3,touch:!0,pause:"hover"};function c(t){var n=function(t){var n={};return["translate","rotate","scale","transform-origin","opacity","duration","delay","easing"].forEach((function(e){n["transform-origin"===e?"origin":e]=t.getAttribute("data-"+e)})),n}(t),e=n.translate,a=n.rotate,r=n.origin,i=n.opacity,c=n.easing,u=n.scale,f=n.duration,l=n.delay;return u=parseFloat(u),f=+f,l=+l,{translate:e?o(t,e):"",rotate:a?o(t,a):"",origin:r?o(t,r,1):"",scale:Number.isNaN(u)?"":u,opacity:"false"!==i?1:0,duration:Number.isNaN(f)?s.duration:f,delay:Number.isNaN(l)?0:l,easing:c||s.easing}}function u(t){return Array.from(t.getElementsByClassName("spicr-layer"))}function f(t,n,e){var a=t[n]||t[0],r=u(a),o=a.classList.contains("active"),s=t[e],f=s&&s.getElementsByClassName("item-bg")[0],l=f?c(f):0;return l?(Object.keys(l).forEach((function(t){/translate|rotate/.test(t)&&l[t]instanceof Object&&Object.keys(l[t]).forEach((function(n){l[t][n]=-l[t][n]}))})),r.map((function(t){return i.layer(t,0,l)}))):r.map((function(t){return i.layer(t,o?0:1)}))}function l(o,c){var u=this,l=function(t,n){var e=n&&n instanceof Element?n:document;return t instanceof Element?t:e.querySelector(t)}(o),h=function(t,n,e,a){var i={},o={},s=Object.assign({},t.dataset);return Object.keys(s).forEach((function(t){var n=t.includes(a)?t.replace(a,"").replace(/[A-Z]/,(function(t){return t.toLowerCase()})):t;o[n]=r(s[t])})),Object.keys(e).forEach((function(t){e[t]=r(e[t])})),Object.keys(n).forEach((function(t){i[t]=t in e?e[t]:t in o?o[t]:n[t]})),i}(l,s,c||{}),d=this;d.tweens=[];var p=d.tweens,y={},v=e;n&&t&&(v=["touchstart","touchend"]);var m=h.pause,g=h.touch,E=h.interval,O=l.getElementsByClassName("item"),b=l.querySelectorAll("[data-slide]"),x=b.length&&b[0],I=b.length&&b[1],w=l.getElementsByClassName("spicr-pages")[0],T=w&&w.querySelectorAll("[data-slide-to]"),_=null,k=null,M=0,j=0,C=l.classList.contains("spicr-slider"),S=l.classList.contains("spicr-carousel");function L(){l.classList.contains("paused")||(l.classList.add("paused"),j||(clearInterval(_),_=null))}function z(){l.classList.contains("paused")&&(l.classList.remove("paused"),j||(clearInterval(_),_=null,d.cycle()))}function A(t){if(t.preventDefault(),!j){var n=t.target,e=n&&n.getAttribute("data-slide-to");n&&!n.classList.contains("active")&&e&&(M=parseInt(e,10),d.slideTo(M))}}function N(t){if(t.preventDefault(),!j){this===I||I.contains(this)?M+=1:(this===x||x.contains(this))&&(M-=1),d.slideTo(M)}}function B(t){y.isTouch||(y.startX=t.changedTouches[0].pageX,l.contains(t.target)&&(y.isTouch=!0,q(1)))}function P(t){y.isTouch&&(y.currentX=t.changedTouches[0].pageX,"touchmove"===t.type&&t.changedTouches.length>1&&t.preventDefault())}function X(t){if(y.isTouch&&!j&&(y.endX=y.currentX||t.changedTouches[0].pageX,y.isTouch)){if((!l.contains(t.target)||!l.contains(t.relatedTarget))&&Math.abs(y.startX-y.endX)<75)return;y.currentX<y.startX?M+=1:y.currentX>y.startX&&(M-=1),y.isTouch=!1,d.slideTo(M),q()}}function q(t){var n=t?"addEventListener":"removeEventListener";l[n]("touchmove",P,a),l[n]("touchend",X,a)}function F(t){var n=t?"addEventListener":"removeEventListener";"hover"===m&&E&&(l[n](v[0],L),l[n](v[1],z)),I&&I[n]("click",N),x&&x[n]("click",N),g&&O.length>1&&l[n]("touchstart",B,a),w&&w[n]("click",A)}function Q(t){Array.from(T).map((function(t){return t.classList.remove("active")})),t&&t.classList.add("active")}function U(t,n){M=n,O[n].classList.add("next"),j=!0,S&&t>-1&&O[t].offsetHeight!==O[n].offsetHeight&&(l.style.height=getComputedStyle(O[t]).height)}function D(t,n){O[n].classList.add("active"),O[n].classList.remove("next"),O[t]&&O[t].classList.remove("active"),setTimeout((function(){S&&(l.style.height=""),i.reset(l),j=!1,p=[],E&&!l.classList.contains("paused")&&d.cycle()}),0)}this.getActiveIndex=function(){var t=l.getElementsByClassName("item active")[0];return Array.from(O).indexOf(t)},this.cycle=function(){clearInterval(_),_=setTimeout((function(){M+=1,d.slideTo(M)}),E)},this.slideTo=function(t){var n=t,e=u.getActiveIndex();e===n||j||(clearInterval(_),_=setTimeout((function(){if(e<n||0===e&&n===O.length-1?k=1:(e>n||e===O.length-1&&0===n)&&(k=0),n<0?n=O.length-1:n>=O.length&&(n=0),C){U(e,n);var t=-1!==e?f(O,e,n):f(O,e),a=-1!==e&&f(O,n);-1===e?t.length&&(p=p.concat(t)):(t.length&&(p=p.concat(t)),a.length&&(p=p.concat(a))),p.length?(p.reduce((function(t,n){return t._duration+t._delay>n._duration+n._delay?t:n}))._onComplete=function(){return D(e,n)},p.forEach((function(t){return t.start()}))):D(e,n),T&&Q(T[n])}else if(S){U(e,n);var r=s.delay,o=s.duration,c=s.easing,u=O[e],h=O[n];(p=i.carousel(l,O,e,n,k)).length?(u&&u.offsetHeight!==h.offsetHeight&&p.push(i.fromTo(l,{height:parseFloat(getComputedStyle(u).height)},{height:parseFloat(getComputedStyle(h).height)},{easing:c,duration:o,delay:Math.max.apply(Math,p.map((function(t){return t._delay+t._duration})))||r})),p[p.length-1]._onComplete=function(){return D(e,n)},p.forEach((function(t){return t.start()}))):D(e,n),T&&Q(T[n])}}),1))},this.dispose=function(){j&&p.forEach((function(t){return t.stop()})),i.reset(l),y={},F(),clearInterval(_),delete l.Spicr},l.Spicr&&l.Spicr.dispose(),F(1),l.Spicr=d,l.getElementsByClassName("item active").length?E&&d.cycle():d.slideTo(0)}var h={},d=[],p="undefined"!=typeof global?global:void 0!==window.self?window.self:"undefined"!=typeof window?window:{},y={},v={},m={},g=window.self||window||{};m.now=g.performance.now.bind(g.performance);var E=0,O=function(t){for(var n=0;n<d.length;)d[n].update(t)?n+=1:d.splice(n,1);E=requestAnimationFrame(O)};function b(){setTimeout((function(){!d.length&&E&&(cancelAnimationFrame(E),E=null,Object.keys(v).forEach((function(t){"function"==typeof v[t]?h[t]&&delete h[t]:Object.keys(v[t]).forEach((function(t){h[t]&&delete h[t]}))})),Object.keys(y).forEach((function(t){h[t]&&delete h[t]})))}),64)}var x={Tick:E,Ticker:O,Tweens:d,Time:m};Object.keys(x).forEach((function(t){h[t]||(h[t]="Time"===t?m.now:x[t])})),p._KUTE=h;var I={duration:700,delay:0,easing:"linear"},w={},T={},_={defaultOptions:I,linkProperty:w,onStart:v,onComplete:T},k={},M={},j={linear:function(t){return t},easingSinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},easingSinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},easingSinusoidalInOut:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easingQuadraticIn:function(t){return t*t},easingQuadraticOut:function(t){return t*(2-t)},easingQuadraticInOut:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easingCubicIn:function(t){return t*t*t},easingCubicOut:function(t){var n=t-1;return n*n*n+1},easingCubicInOut:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easingQuarticIn:function(t){return t*t*t*t},easingQuarticOut:function(t){var n=t-1;return 1-n*n*n*n},easingQuarticInOut:function(t){var n=t;return n<.5?8*n*n*n*n:1-8*(n-=1)*n*n*n},easingQuinticIn:function(t){return t*t*t*t*t},easingQuinticOut:function(t){var n=t-1;return 1+n*n*n*n*n},easingQuinticInOut:function(t){var n=t;return n<.5?16*n*n*n*n*n:1+16*(n-=1)*n*n*n*n},easingCircularIn:function(t){return-(Math.sqrt(1-t*t)-1)},easingCircularOut:function(t){var n=t-1;return Math.sqrt(1-n*n)},easingCircularInOut:function(t){var n=2*t;return n<1?-.5*(Math.sqrt(1-n*n)-1):(n-=2,.5*(Math.sqrt(1-n*n)+1))},easingExponentialIn:function(t){return Math.pow(2,10*(t-1))-.001},easingExponentialOut:function(t){return 1-Math.pow(2,-10*t)},easingExponentialInOut:function(t){var n=2*t;return n<1?.5*Math.pow(2,10*(n-1)):.5*(2-Math.pow(2,-10*(n-1)))},easingBackIn:function(t){var n=1.70158;return t*t*((n+1)*t-n)},easingBackOut:function(t){var n=1.70158,e=t-1;return e*e*((n+1)*e+n)+1},easingBackInOut:function(t){var n=2.5949095,e=2*t;return e<1?e*e*((n+1)*e-n)*.5:.5*((e-=2)*e*((n+1)*e+n)+2)},easingElasticIn:function(t){var n,e=.1,a=t;return 0===a?0:1===a?1:(!e||e<1?(e=1,n=.1):n=.4*Math.asin(1/e)/Math.PI*2,a-=1,-e*Math.pow(2,10*a)*Math.sin((a-n)*Math.PI*2/.4))},easingElasticOut:function(t){var n,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,n=.1):n=.4*Math.asin(1/e)/Math.PI*2,e*Math.pow(2,-10*t)*Math.sin((t-n)*Math.PI*2/.4)+1)},easingElasticInOut:function(t){var n,e=t,a=.1;return 0===e?0:1===e?1:(!a||a<1?(a=1,n=.1):n=Math.asin(1/a)/Math.PI*.4*2,(e*=2)<1?a*Math.pow(2,10*(e-1))*Math.sin((e-1-n)*Math.PI*2/.4)*-.5:(e-=1,a*Math.pow(2,-10*e)*Math.sin((e-n)*Math.PI*2/.4)*.5+1))},easingBounceIn:function(t){return 1-j.easingBounceOut(1-t)},easingBounceOut:function(t){var n=t;return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easingBounceInOut:function(t){return t<.5?.5*j.easingBounceIn(2*t):.5*j.easingBounceOut(2*t-1)+.5}};function C(t){return d.push(t)}function S(t){var n=d.indexOf(t);-1!==n&&d.splice(n,1)}M.processEasing=function(t){return"function"==typeof t?t:"function"==typeof j[t]?j[t]:j.linear};var L={};function z(){var t=this;Object.keys(w).forEach((function(n){var e=w[n],a=L[n];Object.keys(e).forEach((function(n){"function"==typeof e[n]&&Object.keys(t.valuesEnd).some((function(n){return a&&a.includes(n)||"attr"===n&&Object.keys(t.valuesEnd[n]).some((function(t){return a&&a.includes(t)}))}))?h[n]||(h[n]=e[n]):Object.keys(t.valuesEnd).forEach((function(a){var r=t.valuesEnd[a];r instanceof Object&&Object.keys(r).forEach((function(t){"function"==typeof e[t]?h[t]||(h[t]=e[t]):Object.keys(e[n]).forEach((function(n){e[t]&&"function"==typeof e[t][n]&&(h[n]||(h[n]=e[t][n]))}))}))}))}))}))}var A={add:C,remove:S,getAll:function(){return d},removeAll:function(){d.length=0},stop:b,linkInterpolation:z};function N(t,n){try{var e,a;return n?(a=t instanceof Array&&t.every((function(t){return t instanceof Element})),e=t instanceof HTMLCollection||t instanceof NodeList||a?t:document.querySelectorAll(t)):e=t instanceof Element||t===window?t:document.querySelector(t),e}catch(n){throw TypeError("KUTE.js - Element(s) not found: "+t+".")}}var B=function(t){return this.setComponent(t)};function P(){var t=this;Object.keys(v).forEach((function(n){"function"==typeof v[n]?v[n].call(t,n):Object.keys(v[n]).forEach((function(e){v[n][e].call(t,e)}))})),z.call(this)}B.prototype.setComponent=function(t){var n=t.component,e={onStart:v,onComplete:T},a=t.category,r=t.property;return this._=0,L[n]=t.properties||t.subProperties||t.property,t.defaultOptions&&Object.keys(t.defaultOptions).forEach((function(n){I[n]=t.defaultOptions[n]})),t.functions&&Object.keys(e).forEach((function(i){i in t.functions&&("function"==typeof t.functions[i]?(e[i][n]||(e[i][n]={}),e[i][n][a||r]||(e[i][n][a||r]=t.functions[i])):Object.keys(t.functions[i]).forEach((function(a){e[i][n]||(e[i][n]={}),e[i][n][a]||(e[i][n][a]=t.functions[i][a])})))})),t.Interpolate&&(Object.keys(t.Interpolate).forEach((function(n){var e=t.Interpolate[n];"function"!=typeof e||y[n]?Object.keys(e).forEach((function(t){"function"!=typeof e[t]||y[n]||(y[n]=e[t])})):y[n]=e})),w[n]=t.Interpolate),t.Util&&Object.keys(t.Util).forEach((function(n){k[n]||(k[n]=t.Util[n])})),{name:n}};var X=function(t,n,e,a){var r=this;this.element=t,this.playing=!1,this._startTime=null,this._startFired=!1,this.valuesEnd=e,this.valuesStart=n;var i=a||{};this._resetStart=i.resetStart||0,this._easing="function"==typeof i.easing?i.easing:M.processEasing(i.easing),this._duration=i.duration||I.duration,this._delay=i.delay||I.delay,Object.keys(i).forEach((function(t){var n="_"+t;n in r||(r[n]=i[t])}));var o=this._easing.name;return v[o]||(v[o]=function(t){h[t]||t!==this._easing.name||(h[t]=this._easing)}),this};function q(t,n,e,a){var r=a||{};return new(0,M.tween)(N(t),n,e,r)}function F(t,n,e,a){return"perspective("+(1e3*(t+(n-t)*a)>>0)/1e3+e+")"}function Q(t,n,e,a){for(var r=[],i=0;i<3;i+=1)r[i]=(t[i]||n[i]?(1e3*(t[i]+(n[i]-t[i])*a)>>0)/1e3:0)+e;return"translate3d("+r.join(",")+")"}function U(t,n,e,a){var r="";return r+=t[0]||n[0]?"rotateX("+(1e3*(t[0]+(n[0]-t[0])*a)>>0)/1e3+e+")":"",r+=t[1]||n[1]?"rotateY("+(1e3*(t[1]+(n[1]-t[1])*a)>>0)/1e3+e+")":"",r+=t[2]||n[2]?"rotateZ("+(1e3*(t[2]+(n[2]-t[2])*a)>>0)/1e3+e+")":""}function D(t,n,e){return"scale("+(1e3*(t+(n-t)*e)>>0)/1e3+")"}function H(t,n,e,a){var r=[];return r[0]=(t[0]===n[0]?n[0]:(1e3*(t[0]+(n[0]-t[0])*a)>>0)/1e3)+e,r[1]=t[1]||n[1]?(t[1]===n[1]?n[1]:(1e3*(t[1]+(n[1]-t[1])*a)>>0)/1e3)+e:"0","skew("+r.join(",")+")"}X.prototype.start=function(t){return C(this),this.playing=!0,this._startTime=void 0!==t?t:h.Time(),this._startTime+=this._delay,this._startFired||(this._onStart&&this._onStart.call(this),P.call(this),this._startFired=!0),E||O(),this},X.prototype.stop=function(){return this.playing&&(S(this),this.playing=!1,this._onStop&&this._onStop.call(this),this.close()),this},X.prototype.close=function(){var t=this;Object.keys(T).forEach((function(n){Object.keys(T[n]).forEach((function(e){T[n][e].call(t,e)}))})),this._startFired=!1,b.call(this)},X.prototype.chain=function(t){return this._chain=[],this._chain=t.length?t:this._chain.concat(t),this},X.prototype.stopChainedTweens=function(){this._chain&&this._chain.length&&this._chain.forEach((function(t){return t.stop()}))},X.prototype.update=function(t){var n,e=this,a=void 0!==t?t:h.Time();if(a<this._startTime&&this.playing)return!0;n=(a-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var r=this._easing(n);return Object.keys(this.valuesEnd).forEach((function(t){h[t](e.element,e.valuesStart[t],e.valuesEnd[t],r)})),this._onUpdate&&this._onUpdate.call(this),1!==n||(this._onComplete&&this._onComplete.call(this),this.playing=!1,this.close(),void 0!==this._chain&&this._chain.length&&this._chain.map((function(t){return t.start()})),!1)},M.tween=X;var Z={component:"baseTransform",property:"transform",functions:{onStart:function(t){!h[t]&&this.valuesEnd[t]&&(h[t]=function(n,e,a,r){n.style[t]=(e.perspective||a.perspective?F(e.perspective,a.perspective,"px",r):"")+(e.translate3d?Q(e.translate3d,a.translate3d,"px",r):"")+(e.rotate3d?U(e.rotate3d,a.rotate3d,"deg",r):"")+(e.skew?H(e.skew,a.skew,"deg",r):"")+(e.scale||a.scale?D(e.scale,a.scale,r):"")})}},Interpolate:{perspective:F,translate3d:Q,rotate3d:U,translate:function(t,n,e,a){var r=[];return r[0]=(t[0]===n[0]?n[0]:(1e3*(t[0]+(n[0]-t[0])*a)>>0)/1e3)+e,r[1]=t[1]||n[1]?(t[1]===n[1]?n[1]:(1e3*(t[1]+(n[1]-t[1])*a)>>0)/1e3)+e:"0","translate("+r.join(",")+")"},rotate:function(t,n,e,a){return"rotate("+(1e3*(t+(n-t)*a)>>0)/1e3+e+")"},scale:D,skew:H}};function K(t,n,e){return+t+(n-t)*e}var R={component:"baseOpacity",property:"opacity",Interpolate:{numbers:K},functions:{onStart:function(t){t in this.valuesEnd&&!h[t]&&(h[t]=function(n,e,a,r){n.style[t]=(1e3*K(e,a,r)>>0)/1e3})}}};function W(t){t in this.valuesEnd&&!h[t]&&(h[t]=function(n,e,a,r){n.style[t]=(r>.99||r<.01?(10*K(e,a,r)>>0)/10:K(e,a,r)>>0)+"px"})}var Y=["top","left","width","height"],G={};Y.forEach((function(t){G[t]=W}));var J={component:"baseBoxModel",category:"boxModel",properties:Y,Interpolate:{numbers:K},functions:{onStart:G}};i.fromTo=q;var V={Animation:B,Components:{Transform:new B(Z),Opacity:new B(R),BoxModel:new B(J)},Tween:X,fromTo:q,Objects:_,Easing:j,Util:k,Render:x,Interpolate:y,Internals:A,Selector:N};function $(t){var n=t instanceof Element?t:document;Array.from(n.querySelectorAll('[data-function="spicr"]')).forEach((function(t){return new l(t)}))}return Object.keys(V).forEach((function(t){l[t]=V[t]})),i.carousel=function(t,n,e,a,r){var f=[],l=c(t),h={},d={},p={},y={},v=n[e],m=v&&u(v),g=u(n[a]),E=l.translate,O=l.rotate,b=l.scale,x=t.getAttribute("data-transform-origin"),I=l.opacity,w=l.easing,T=l.duration||s.duration,_=l.delay||+T/2;if(I&&(h.opacity=1,d.opacity=0,p.opacity=0,y.opacity=1),(b||E||O)&&(h.transform={},d.transform={},p.transform={},y.transform={}),b&&(h.transform.scale=1,d.transform.scale=b,p.transform.scale=b,y.transform.scale=1),E){h.transform.translate3d=[0,0,0];var k=0,M=0,j=0;"x"in E&&(k=r?-E.x:E.x),"y"in E&&(M=r?-E.y:E.y),"Z"in E&&(j=r?-E.z:E.z),d.transform.translate3d=[k,M,j];var C=0,S=0,L=0;"x"in E&&(C=r?E.x:-E.x),"y"in E&&(S=r?E.y:-E.y),"Z"in E&&(L=r?E.z:-E.z),p.transform.translate3d=[C,S,L],y.transform.translate3d=[0,0,0]}if(O){h.transform.rotate3d=[0,0,0];var z=0,A=0,N=0;"x"in O&&(z=r?-O.x:O.x),"y"in O&&(A=r?-O.y:O.y),"Z"in O&&(N=r?-O.z:O.z),d.transform.rotate3d=[z,A,N];var B=0,P=0,X=0;"x"in O&&(B=r?O.x:-O.x),"y"in O&&(P=r?O.y:-O.y),"Z"in O&&(X=r?O.z:-O.z),p.transform.rotate3d=[B,P,X],y.transform.rotate3d=[0,0,0]}r||(m&&m.reverse(),g.reverse()),I||O||E||b||(T=50,_=0);var q={easing:w,duration:T},F=q;return m&&m.forEach((function(t,n){if(q.delay=s.delay*n,f.push(i.fromTo(t,h,d,q)),x){var e=o(t,x),a="50%",r="50%",c="z"in e?" "+e.z+"px":"";"x"in e&&(a=/%/.test(e.x)?e.x:e.x+"px"),"y"in e&&(r=/%/.test(e.y)?e.y:e.y+"px"),t.style.transformOrigin=a+" "+r+c}})),g.forEach((function(t,n){if(F.delay=(_+50)*n,f.push(i.fromTo(t,p,y,F)),x){var e=o(t,x),a="50%",r="50%",s="z"in e?" "+e.z+"px":"";"x"in e&&(a=/%/.test(e.x)?e.x:e.x+"px"),"y"in e&&(r=/%/.test(e.y)?e.y:e.y+"px"),t.style.transformOrigin=a+" "+r+s}})),f},i.layer=function(t,n,e){var a=e||c(t),r=t.classList.contains("item-bg"),o={},u={},f=a.translate,l=a.rotate,h=a.scale,d=a.origin,p=a.opacity,y=a.duration,v=a.easing,m=a.delay||(r?0:s.delay);if(/InOut/.test(v)||e||(v=n?v.replace("In","Out"):v.replace("Out","In")),n||(y=r?y:1.5*y),m=n?m:0,(p=!n&&r&&e?0:p)&&(o.opacity=n?0:1,u.opacity=n?1:0),(h||f||l)&&(o.transform={},u.transform={},d)){var g="50%",E="50%",O="z"in d?" "+d.z+"px":"";"x"in d&&(g=/%/.test(d.x)?d.x:d.x+"px"),"y"in d&&(E=/%/.test(d.y)?d.y:d.y+"px"),t.style.transformOrigin=g+" "+E+O}if(h&&(o.transform.scale=n?h:1,u.transform.scale=n?1:h),f){var b=n&&f.x?f.x:0,x=f.x&&!n?f.x:0,I=n&&f.y?f.y:0,w=f.y&&!n?f.y:0,T=n&&f.z?f.z:0,_=f.z&&!n?f.z:0;o.transform.translate3d=[b,I,T],u.transform.translate3d=[x,w,_]}if(l){var k=n&&l.x?l.x:0,M=!n&&l.x?l.x:0,j=n&&l.y?l.y:0,C=!n&&l.y?l.y:0,S=n&&l.z?l.z:0,L=!n&&l.z?l.z:0;o.transform.rotate3d=[k,j,S],u.transform.rotate3d=[M,C,L]}return p||l||f||h||(y=50,m=0),i.fromTo(t,o,u,{easing:v,duration:y,delay:m})},i.reset=function(t){Array.from(t.getElementsByClassName("spicr-layer")).forEach((function(t){t.style.opacity="",t.style.transform="",t.style.transformOrigin=""}))},l.initComponent=$,document.body?$():document.addEventListener("DOMContentLoaded",$,{once:!0}),l}));
